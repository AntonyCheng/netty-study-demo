## 网络编程——NIO

NIO是I/O模型中最重要的，即同步不阻塞型IO模型，也叫New IO。

NIO有三大核心：Channel（通道）、Buffer（缓冲区）、Selector（选择器）。

服务器实现模式是一个线程可以处理多个连接的请求，没有数据读写时线程也不会保持阻塞。

与BIO相比有如下几点不同：

* BIO 以流的方式处理数据，而 NIO 以块的方式处理数据，块 I/O 的效率比 流 I/O 高很多。
* BIO 是阻塞的，NIO 则是非阻塞的。
* BIO 基于字节流和字符流进行操作，而 NIO 基于 Channel（通道）和Buffer（缓冲区）进行操作，数据总是从通道读取到缓冲区中，或者从缓冲区写入到通道中。Selector（选择器）用于监听多个通道的事件（比如：连接请求、数据到达等），因此使用单个线程就可以监听多个客户端通道。

通俗理解：NIO是可以做到用一个线程来处理多个操作的。假设有10000个请求过来，根据实际情况，可以分配50或者100个线程来处理。不像之前的BIO那样，非得分配10000个。

在本模块中将对NIO进行详细的描述，附带着一起会说一下零拷贝以及AIO的特点，下面对BIO、NIO、AIO进行一个对比，有一个总体的概念：

|      | BIO  |     NIO     |  AIO  |
|:----:|:----:|:-----------:|:-----:|
| IO模型 | 同步阻塞 | 同步非阻塞（多路复用） | 异步非阻塞 |
| 编程难度 |  简单  |     复杂      |  复杂   |
| 吞吐量  |  低   |      高      |   高   |

对于IO模型进行举例说明：

* **同步阻塞**：到理发店理发，就一直等理发师，直到轮到自己理发。
* **同步非阻塞**：到理发店理发，发现前面有其它人理发，给理发师说下，先干其他事情，一会过来看是否轮到自己。
* **异步非阻塞**：给理发师打电话，让理发师上门服务，自己干其它事情，理发师自己来家给你理发。
